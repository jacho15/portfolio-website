@import url('https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Real World (Default) — coffee shop warmth ===== */
:root {
  --color-p5-red: 111 78 55;
  /* warm brown accent */
  --color-p5-red-dark: 87 60 42;
  /* darker brown */
  --color-p5-red-light: 139 99 71;
  /* lighter brown */
  --color-p5-crimson: 62 44 31;
  /* espresso */
  --color-p5-black: 250 247 242;
  /* warm cream bg */
  --color-p5-black-pure: 245 241 235;
  /* warm off-white */
  --color-p5-white: 38 35 32;
  /* warm near-black text */
  --color-p5-gray: 240 236 230;
  /* warm light gray */
  --color-p5-gray-mid: 245 241 235;
  /* warm off-white card */
  --color-p5-yellow: 193 154 88;
  /* muted gold */
}

/* ===== Metaverse (P5 Dark) ===== */
[data-theme="metaverse"] {
  --color-p5-red: 216 0 39;
  --color-p5-red-dark: 163 0 32;
  --color-p5-red-light: 255 23 68;
  --color-p5-crimson: 139 0 0;
  --color-p5-black: 13 13 13;
  --color-p5-black-pure: 0 0 0;
  --color-p5-white: 250 250 250;
  --color-p5-gray: 26 26 26;
  --color-p5-gray-mid: 42 42 42;
  --color-p5-yellow: 255 215 0;
}

html {
  scroll-behavior: smooth;
}

body {
  @apply bg-p5-black text-p5-white;
  font-family: 'Inter', sans-serif;
}

@layer components {
  .p5-btn {
    @apply relative px-3 py-2 bg-p5-red text-p5-white font-heading text-xs tracking-wide;
    @apply md:px-10 md:py-4 md:text-xl md:tracking-wider;
    @apply transform skew-x-[-8deg] transition-all duration-300;
    @apply hover:bg-p5-red-dark hover:scale-110 hover:skew-x-[-2deg];
    @apply border-2 border-p5-white uppercase;
    clip-path: polygon(8% 0, 100% 0, 92% 100%, 0 100%);
  }

  .p5-btn-outline {
    @apply relative px-3 py-2 bg-transparent text-p5-white font-heading text-xs tracking-wide;
    @apply md:px-10 md:py-4 md:text-xl md:tracking-wider;
    @apply transform skew-x-[-8deg] transition-all duration-300;
    @apply hover:bg-p5-red hover:scale-110 hover:skew-x-[-2deg];
    @apply border-2 border-p5-red uppercase;
    clip-path: polygon(8% 0, 100% 0, 92% 100%, 0 100%);
  }

  .p5-card {
    @apply relative bg-p5-gray-mid py-6 px-12 border-l-4 border-p5-red;
    @apply transform transition-all duration-300;
    @apply hover:translate-x-3 hover:border-l-8;
    clip-path: polygon(0 0, 100% 0, 96% 100%, 4% 100%);
  }

  .p5-card::before {
    content: '';
    @apply absolute top-0 right-0 w-8 h-8 bg-p5-red;
    clip-path: polygon(100% 0, 0 0, 100% 100%);
  }

  .arcana-card {
    @apply relative bg-p5-gray-mid py-6 px-8;
    @apply transform transition-all duration-300;
    border-left: 4px solid rgb(var(--color-p5-red));
  }

  .arcana-card:hover {
    @apply translate-x-3;
    border-left-width: 8px;
    box-shadow: 0 0 30px var(--arcana-glow, transparent), inset 0 0 30px var(--arcana-glow, transparent);
  }

  .p5-nav-link {
    @apply relative px-4 py-2 text-p5-white font-heading text-lg tracking-wider;
    @apply transition-all duration-300;
  }

  .p5-nav-link::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-1 bg-p5-red;
    @apply transition-all duration-300;
  }

  .p5-nav-link:hover::after {
    @apply w-full;
  }

  .p5-nav-link:hover {
    @apply text-p5-red;
  }

  .p5-nav-link.active {
    @apply text-p5-white;
  }

  .p5-nav-link.active::before {
    content: '';
    @apply absolute inset-0 bg-p5-red -z-10;
    transform: skewX(-8deg);
  }

  .p5-nav-link.active::after {
    @apply w-0;
  }

  .p5-calling-card {
    @apply relative bg-p5-gray-mid text-p5-white p-8;
    @apply transform rotate-[-2deg] transition-all duration-500;
    @apply hover:rotate-0 hover:scale-105;
    box-shadow: 8px 8px 0 0 rgb(var(--color-p5-red));
  }

  .p5-calling-card::before {
    content: '';
    @apply absolute inset-0 border-4 border-p5-black;
    @apply transform translate-x-2 translate-y-2 pointer-events-none;
  }

  .p5-section-header {
    @apply relative inline-block font-heading text-5xl md:text-7xl tracking-wider;
    @apply text-p5-white uppercase;
  }

  .p5-section-header::after {
    content: '';
    @apply absolute -bottom-2 left-0 w-1/2 h-2 bg-p5-red;
    @apply transform skew-x-[-20deg];
  }

  .container {
    @apply max-w-7xl mx-auto px-4;
  }
}

.clip-corner-small {
  clip-path: polygon(100% 0, 0 100%, 100% 100%);
}

.text-shadow-red {
  text-shadow: 4px 4px 0 rgb(var(--color-p5-red)), 8px 8px 0 rgba(var(--color-p5-red), 0.3);
}

/* Graphic Frames */
.p5-frame {
  @apply relative;
}

.p5-frame::before {
  content: '';
  @apply absolute -inset-2 border-4 border-p5-red;
  transform: rotate(2deg);
}

.p5-frame::after {
  content: '';
  @apply absolute -inset-2 border-4 border-p5-white;
  transform: rotate(-2deg);
}

/* Dividers */
.p5-slash-divider {
  @apply w-full h-2 bg-p5-red;
  transform: skewX(-20deg);
}

/* Text Treatments */
.text-shadow-heavy {
  text-shadow: 6px 6px 0 rgb(var(--color-p5-red)), 12px 12px 0 rgba(var(--color-p5-red), 0.2);
}

.text-outline {
  -webkit-text-stroke: 2px rgb(var(--color-p5-red));
  color: transparent;
}

.p5-bg-text {
  @apply absolute font-heading text-[12rem] md:text-[20rem] leading-none;
  @apply text-p5-red/5 pointer-events-none select-none;
  @apply -z-10;
}

/* Shape Language */
.clip-slash {
  clip-path: polygon(8% 0, 100% 0, 92% 100%, 0 100%);
}

.clip-p5-panel {
  clip-path: polygon(4% 0, 100% 0, 96% 100%, 0 100%);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-p5-black;
}

::-webkit-scrollbar-thumb {
  @apply bg-p5-red;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-p5-red-dark;
}

/* ============================================
   REAL WORLD OVERRIDES (default, non-metaverse)
   ============================================ */

/* Buttons — remove skew/clip, add rounded */
:root:not([data-theme="metaverse"]) .p5-btn {
  transform: none;
  clip-path: none;
  border-radius: 8px;
}

:root:not([data-theme="metaverse"]) .p5-btn:hover {
  transform: scale(1.05);
}

:root:not([data-theme="metaverse"]) .p5-btn-outline {
  transform: none;
  clip-path: none;
  border-radius: 8px;
}

:root:not([data-theme="metaverse"]) .p5-btn-outline:hover {
  transform: scale(1.05);
}

/* Cards — remove clip-path, add rounded + subtle shadow */
:root:not([data-theme="metaverse"]) .p5-card {
  clip-path: none;
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

:root:not([data-theme="metaverse"]) .p5-card::before {
  display: none;
}

:root:not([data-theme="metaverse"]) .arcana-card {
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

/* Calling card — remove rotation, light look */
:root:not([data-theme="metaverse"]) .p5-calling-card {
  @apply border border-p5-red/20;
  transform: none;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

:root:not([data-theme="metaverse"]) .p5-calling-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

:root:not([data-theme="metaverse"]) .p5-calling-card::before {
  display: none;
}

/* Section headers — remove skew on underline */
:root:not([data-theme="metaverse"]) .p5-section-header::after {
  transform: none;
  border-radius: 4px;
}

/* Nav link active — remove skew */
:root:not([data-theme="metaverse"]) .p5-nav-link.active::before {
  transform: none;
  border-radius: 6px;
}

/* Background text — hide */
:root:not([data-theme="metaverse"]) .p5-bg-text {
  display: none;
}

/* Text shadows — remove */
:root:not([data-theme="metaverse"]) .text-shadow-red,
:root:not([data-theme="metaverse"]) .text-shadow-heavy {
  text-shadow: none;
}

/* Text outline — use solid color instead */
:root:not([data-theme="metaverse"]) .text-outline {
  -webkit-text-stroke: 0;
  color: rgb(var(--color-p5-white));
  opacity: 0.2;
}

/* Clip shapes — remove, add border-radius */
:root:not([data-theme="metaverse"]) .clip-slash,
:root:not([data-theme="metaverse"]) .clip-p5-panel {
  clip-path: none;
  border-radius: 12px;
}

/* Slash divider — simplify */
:root:not([data-theme="metaverse"]) .p5-slash-divider {
  transform: none;
  border-radius: 4px;
}

/* Scrollbar — warm neutral */
:root:not([data-theme="metaverse"]) ::-webkit-scrollbar-track {
  background: #f0ece6;
}

:root:not([data-theme="metaverse"]) ::-webkit-scrollbar-thumb {
  background: #c4b5a3;
  border-radius: 4px;
}

:root:not([data-theme="metaverse"]) ::-webkit-scrollbar-thumb:hover {
  background: #9c8b78;
}

/* P5 frame — simplify in Real World */
:root:not([data-theme="metaverse"]) .p5-frame::before,
:root:not([data-theme="metaverse"]) .p5-frame::after {
  display: none;
}

/* Decorative stripes — hide in Real World */
:root:not([data-theme="metaverse"]) .decorative-stripe {
  display: none;
}

/* Clip corner small — simplify */
:root:not([data-theme="metaverse"]) .clip-corner-small {
  clip-path: none;
  border-radius: 4px;
}