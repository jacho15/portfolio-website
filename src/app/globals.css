@import url('https://fonts.googleapis.com/css2?family=Anton&family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,500;0,700;0,900;1,400;1,700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Real World (Default) — refined, editorial ===== */
:root {
  --color-p5-red: 196 96 42;          /* terracotta */
  --color-p5-red-dark: 157 73 26;     /* deeper terracotta */
  --color-p5-red-light: 222 138 84;   /* lighter terracotta */
  --color-p5-crimson: 115 52 20;      /* espresso */
  --color-p5-black: 248 246 243;      /* warm near-white bg */
  --color-p5-black-pure: 255 255 255; /* pure white */
  --color-p5-white: 18 18 18;         /* near black */
  --color-p5-gray: 240 237 232;       /* warm light gray */
  --color-p5-gray-mid: 255 255 255;   /* pure white card */
  --color-p5-yellow: 210 165 72;      /* warm amber */
}

/* ===== Metaverse (P5 Dark) ===== */
[data-theme="metaverse"] {
  --color-p5-red: 216 0 39;
  --color-p5-red-dark: 163 0 32;
  --color-p5-red-light: 255 23 68;
  --color-p5-crimson: 139 0 0;
  --color-p5-black: 13 13 13;
  --color-p5-black-pure: 0 0 0;
  --color-p5-white: 250 250 250;
  --color-p5-gray: 26 26 26;
  --color-p5-gray-mid: 42 42 42;
  --color-p5-yellow: 255 215 0;
}

html {
  scroll-behavior: smooth;
}

body {
  @apply bg-p5-black text-p5-white;
  font-family: 'Inter', sans-serif;
}

@layer components {
  .p5-btn {
    @apply relative px-3 py-2 bg-p5-red text-p5-white font-heading text-xs tracking-wide;
    @apply md:px-10 md:py-4 md:text-xl md:tracking-wider;
    @apply transform skew-x-[-8deg] transition-all duration-300;
    @apply hover:bg-p5-red-dark hover:scale-110 hover:skew-x-[-2deg];
    @apply border-2 border-p5-white uppercase;
    clip-path: polygon(8% 0, 100% 0, 92% 100%, 0 100%);
  }

  .p5-btn-outline {
    @apply relative px-3 py-2 bg-transparent text-p5-white font-heading text-xs tracking-wide;
    @apply md:px-10 md:py-4 md:text-xl md:tracking-wider;
    @apply transform skew-x-[-8deg] transition-all duration-300;
    @apply hover:bg-p5-red hover:scale-110 hover:skew-x-[-2deg];
    @apply border-2 border-p5-red uppercase;
    clip-path: polygon(8% 0, 100% 0, 92% 100%, 0 100%);
  }

  .p5-card {
    @apply relative bg-p5-gray-mid py-6 px-12 border-l-4 border-p5-red;
    @apply transform transition-all duration-300;
    @apply hover:translate-x-3 hover:border-l-8;
    clip-path: polygon(0 0, 100% 0, 96% 100%, 4% 100%);
  }

  .p5-card::before {
    content: '';
    @apply absolute top-0 right-0 w-8 h-8 bg-p5-red;
    clip-path: polygon(100% 0, 0 0, 100% 100%);
  }

  .arcana-card {
    @apply relative bg-p5-gray-mid py-6 px-8;
    @apply transform transition-all duration-300;
    border-left: 4px solid rgb(var(--color-p5-red));
  }

  .arcana-card:hover {
    @apply translate-x-3;
    border-left-width: 8px;
    box-shadow: 0 0 30px var(--arcana-glow, transparent), inset 0 0 30px var(--arcana-glow, transparent);
  }

  .p5-nav-link {
    @apply relative px-4 py-2 text-p5-white font-heading text-lg tracking-wider;
    @apply transition-all duration-300;
  }

  .p5-nav-link::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-1 bg-p5-red;
    @apply transition-all duration-300;
  }

  .p5-nav-link:hover::after {
    @apply w-full;
  }

  .p5-nav-link:hover {
    @apply text-p5-red;
  }

  .p5-nav-link.active {
    @apply text-p5-white;
  }

  .p5-nav-link.active::before {
    content: '';
    @apply absolute inset-0 bg-p5-red -z-10;
    transform: skewX(-8deg);
  }

  .p5-nav-link.active::after {
    @apply w-0;
  }

  .p5-calling-card {
    @apply relative bg-p5-gray-mid text-p5-white p-8;
    @apply transform rotate-[-2deg] transition-all duration-500;
    @apply hover:rotate-0 hover:scale-105;
    box-shadow: 8px 8px 0 0 rgb(var(--color-p5-red));
  }

  .p5-calling-card::before {
    content: '';
    @apply absolute inset-0 border-4 border-p5-black;
    @apply transform translate-x-2 translate-y-2 pointer-events-none;
  }

  .p5-section-header {
    @apply relative inline-block font-heading text-5xl md:text-7xl tracking-wider;
    @apply text-p5-white uppercase;
  }

  .p5-section-header::after {
    content: '';
    @apply absolute -bottom-2 left-0 w-1/2 h-2 bg-p5-red;
    @apply transform skew-x-[-20deg];
  }

  .container {
    @apply max-w-7xl mx-auto px-4;
  }
}

.clip-corner-small {
  clip-path: polygon(100% 0, 0 100%, 100% 100%);
}

.text-shadow-red {
  text-shadow: 4px 4px 0 rgb(var(--color-p5-red)), 8px 8px 0 rgba(var(--color-p5-red), 0.3);
}

/* Graphic Frames */
.p5-frame {
  @apply relative;
}

.p5-frame::before {
  content: '';
  @apply absolute -inset-2 border-4 border-p5-red;
  transform: rotate(2deg);
}

.p5-frame::after {
  content: '';
  @apply absolute -inset-2 border-4 border-p5-white;
  transform: rotate(-2deg);
}

/* Dividers */
.p5-slash-divider {
  @apply w-full h-2 bg-p5-red;
  transform: skewX(-20deg);
}

/* Text Treatments */
.text-shadow-heavy {
  text-shadow: 6px 6px 0 rgb(var(--color-p5-red)), 12px 12px 0 rgba(var(--color-p5-red), 0.2);
}

.text-outline {
  -webkit-text-stroke: 2px rgb(var(--color-p5-red));
  color: transparent;
}

.p5-bg-text {
  @apply absolute font-heading text-[12rem] md:text-[20rem] leading-none;
  @apply text-p5-red/5 pointer-events-none select-none;
  @apply -z-10;
}

/* Shape Language */
.clip-slash {
  clip-path: polygon(8% 0, 100% 0, 92% 100%, 0 100%);
}

.clip-p5-panel {
  clip-path: polygon(4% 0, 100% 0, 96% 100%, 0 100%);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-p5-black;
}

::-webkit-scrollbar-thumb {
  @apply bg-p5-red;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-p5-red-dark;
}

/* ============================================
   REAL WORLD OVERRIDES (default, non-metaverse)
   ============================================ */

/* Typography — Playfair Display for headings */
:root:not([data-theme="metaverse"]) .font-heading {
  font-family: 'Playfair Display', Georgia, serif;
}

/* Buttons — clean, no skew */
:root:not([data-theme="metaverse"]) .p5-btn {
  transform: none;
  clip-path: none;
  border-radius: 6px;
  border-color: transparent;
  font-size: 0.8125rem;
  padding: 0.625rem 1.5rem;
  letter-spacing: 0.05em;
}

:root:not([data-theme="metaverse"]) .p5-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(196, 96, 42, 0.28);
}

:root:not([data-theme="metaverse"]) .p5-btn-outline {
  transform: none;
  clip-path: none;
  border-radius: 6px;
  font-size: 0.8125rem;
  padding: 0.625rem 1.5rem;
  letter-spacing: 0.05em;
}

:root:not([data-theme="metaverse"]) .p5-btn-outline:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

@media (min-width: 768px) {
  :root:not([data-theme="metaverse"]) .p5-btn,
  :root:not([data-theme="metaverse"]) .p5-btn-outline {
    font-size: 0.9375rem;
    padding: 0.75rem 2rem;
  }
}

/* Cards — clean white, soft elevation */
:root:not([data-theme="metaverse"]) .p5-card {
  clip-path: none;
  border-radius: 12px;
  border-left-width: 3px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
}

:root:not([data-theme="metaverse"]) .p5-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), 0 8px 24px rgba(0, 0, 0, 0.06);
}

:root:not([data-theme="metaverse"]) .p5-card::before {
  display: none;
}

:root:not([data-theme="metaverse"]) .arcana-card {
  background: #ffffff;
  border-radius: 16px;
  border-left-width: 3px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 8px 24px rgba(0, 0, 0, 0.04);
}

:root:not([data-theme="metaverse"]) .arcana-card:hover {
  transform: translateY(-3px);
  border-left-width: 3px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1), 0 16px 40px rgba(0, 0, 0, 0.06);
}

/* Calling card — clean elevated card */
:root:not([data-theme="metaverse"]) .p5-calling-card {
  transform: none;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.07), 0 1px 4px rgba(0, 0, 0, 0.04);
}

:root:not([data-theme="metaverse"]) .p5-calling-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1), 0 4px 12px rgba(0, 0, 0, 0.06);
}

:root:not([data-theme="metaverse"]) .p5-calling-card::before {
  display: none;
}

/* Nav links — refined */
:root:not([data-theme="metaverse"]) .p5-nav-link {
  font-size: 0.875rem;
  letter-spacing: 0.04em;
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}

:root:not([data-theme="metaverse"]) .p5-nav-link::after {
  height: 2px;
  border-radius: 2px;
}

:root:not([data-theme="metaverse"]) .p5-nav-link.active::before {
  display: none;
}

:root:not([data-theme="metaverse"]) .p5-nav-link.active {
  color: rgb(var(--color-p5-red));
}

:root:not([data-theme="metaverse"]) .p5-nav-link.active::after {
  width: 100%;
}

/* Section headers — refined underline */
:root:not([data-theme="metaverse"]) .p5-section-header {
  letter-spacing: 0.025em;
}

:root:not([data-theme="metaverse"]) .p5-section-header::after {
  transform: none;
  border-radius: 2px;
  height: 3px;
  width: 3.5rem;
}

/* Background text — hide */
:root:not([data-theme="metaverse"]) .p5-bg-text {
  display: none;
}

/* Text shadows — remove */
:root:not([data-theme="metaverse"]) .text-shadow-red,
:root:not([data-theme="metaverse"]) .text-shadow-heavy {
  text-shadow: none;
}

/* Text outline — nearly invisible */
:root:not([data-theme="metaverse"]) .text-outline {
  -webkit-text-stroke: 0;
  color: rgb(var(--color-p5-white));
  opacity: 0.06;
}

/* Clip shapes — remove, add radius */
:root:not([data-theme="metaverse"]) .clip-slash,
:root:not([data-theme="metaverse"]) .clip-p5-panel {
  clip-path: none;
  border-radius: 12px;
}

/* Slash divider — thin, clean */
:root:not([data-theme="metaverse"]) .p5-slash-divider {
  transform: none;
  border-radius: 2px;
  height: 3px;
}

/* Scrollbar — warm neutral */
:root:not([data-theme="metaverse"]) ::-webkit-scrollbar-track {
  background: #f0ede8;
}

:root:not([data-theme="metaverse"]) ::-webkit-scrollbar-thumb {
  background: #c4a88a;
  border-radius: 4px;
}

:root:not([data-theme="metaverse"]) ::-webkit-scrollbar-thumb:hover {
  background: #a08060;
}

/* P5 frame — hide */
:root:not([data-theme="metaverse"]) .p5-frame::before,
:root:not([data-theme="metaverse"]) .p5-frame::after {
  display: none;
}

/* Decorative stripes — hide */
:root:not([data-theme="metaverse"]) .decorative-stripe {
  display: none;
}

/* Clip corner small — simplify */
:root:not([data-theme="metaverse"]) .clip-corner-small {
  clip-path: none;
  border-radius: 4px;
}
